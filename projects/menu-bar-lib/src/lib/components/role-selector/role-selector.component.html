<div class="role-selector-container" [class.open]="isDropdownOpen()">
  <button (click)="toggleDropdown()" class="dropdown-toggle">
    <i class="fa fa-users"></i>
    <span>Roles</span>
    <i class="fa fa-caret-down"></i>
  </button>

  @if (isDropdownOpen()) {
  <div class="dropdown-menu">
    <div class="dropdown-header">
      <span>Switch Role</span>
      <button class="close-btn" (click)="toggleDropdown()">
        <i class="fa fa-times"></i>
      </button>
    </div>

    <div class="role-list">
      @for (role of roles; track trackByRoleCode($index, role)) {
      <div
        class="role-item"
        (click)="selectRole(role)"
        [class.selected]="role.roleCode === currentRole?.roleCode"
      >
        <i class="fa fa-check-circle"></i>
        <span>{{ role.description }}</span>
      </div>
      }
    </div>

    <div class="dropdown-footer">
      <button class="btn btn-primary" (click)="selectRoles(roles)">
        Apply Roles
      </button>
    </div>
  </div>
  }
</div>